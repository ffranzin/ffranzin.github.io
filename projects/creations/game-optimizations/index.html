<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Flavio Franzin | Game Optimizations</title>
  <meta property="og:title" content="Flavio Franzin | Game Optimizations" />
  <meta property="og:image" content="https://ffranzin.github.io/perfil.jpg" />
  <meta name="description" content="I investigated and fixed the performance bottlenecks, improving the overall game&#39;s performance by &#43;60%.">
  <meta property="og:description" content="I investigated and fixed the performance bottlenecks, improving the overall game&#39;s performance by &#43;60%." />
  <meta name="author" content="Flavio Franzin ">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900&display=swap"></noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
      <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap"></noscript>
  <link rel="preload" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css" integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin="anonymous" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css" integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin="anonymous"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin="anonymous" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin="anonymous"></noscript>
  
  <link rel="preload" href="https://ffranzin.github.io/css/resume.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://ffranzin.github.io/css/resume.css"></noscript>
  <link rel="preload" href="https://ffranzin.github.io/css/tweaks.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://ffranzin.github.io/css/tweaks.css"></noscript>
  <link rel="preload" href="https://ffranzin.github.io/css/resume-override.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://ffranzin.github.io/css/resume-override.css"></noscript>
  <meta name="generator" content="Hugo 0.88.1" />
  
   
  
</head>
<body id="page-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
  <a class="navbar-brand js-scroll-trigger" href="#page-top">
    <span class="d-block d-lg-none">Flavio Franzin </span>
    <span class="d-none d-lg-block">
      <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="/perfil.jpg" alt="">
    </span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
          <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/#about">About</a>
          </li>
          

          
          <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/#experience">Experience</a>
          </li>
          
          
          <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/#projects">Projects</a>
          </li>
          


          


          
          
          
          <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/#Publications">Publications</a>
          </li>
          
      </ul>
  </div>
</nav>

  <div class="container-fluid p-0">
    
<nav aria-label="breadcrumb">
  <ol  class="breadcrumb">
    







<li class="breadcrumb-item">
  <a href="https://ffranzin.github.io/">Home</a>
</li>


<li class="breadcrumb-item">
  <a href="https://ffranzin.github.io/projects/">Projects</a>
</li>


<li class="breadcrumb-item">
  <a href="https://ffranzin.github.io/projects/creations/">Projects and Main Achievements</a>
</li>


<li class="breadcrumb-item active">
  <a href="https://ffranzin.github.io/projects/creations/game-optimizations/">Game Optimizations</a>
</li>

  </ol>
</nav>




<section class="resume-section p-3 p-lg-5 d-flex d-column">
    <div class="my-auto">
        <h2 class="mb-0"><span class="text-primary">Game Optimizations</span></h2>
        <style>
* {
  box-sizing: border-box;
}


.video-container {
  float: left;
  width: 50%;
  padding: 2px;
}

.clearfix::after {
  content: "";
  clear: both;
  display: table;
}


.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 50%;
}



video {
  width: 99%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}


</style>
<p>New requirements significantly increased the number of simulated game entities, putting the game at a critical stage in terms of performance. In this context, I took responsibility for investigating and fixing performance bottlenecks.</p>
<p><br />
<br />
<strong>Briefly Description</strong></p>
<p>I performed a scan of several game components such as audio sources, animators, particle systems, and entities' controllers to identify bottlenecks and apply improvements. These components were optimized using Event Systems, and others were disabled according to the objects' distance to the camera - very appropriate since entities are placed sparsely.</p>
<p>Our physics simulation uses an intermediate <em>Layer</em> between PhysX and Unity to deal with the loss of numerical precision in large-scale scenarios <a href="https://www.scitepress.org/Papers/2021/101945/101945.pdf">(more details)</a>.  With new entities being physically simulated, the solution presented what was already expected: scalability problems. In this context, I assumed the responsibility for identifying improvements for it. After studying how physical simulations work, I identified some issues. It was mostly related to PhysX&rsquo;s data structures and continuous cache miss caused by our Layer. To solve the problem, I changed the Layer approach to minimize architectural conflicts with PhysX. After taking the new approach, I&rsquo;ve also refactored some entities and behaviors to keep the simulation working correctly.</p>
<p><br />
<br />
<strong>Results</strong></p>
<p>After four months of massive refactoring, optimizing codes, and creating acceleration data structures, performance returned to a level capable of supporting the client&rsquo;s new requirements. In addition, many of the decisions have increased the game&rsquo;s scalability for future needs.</p>
<p style="color:red">atualizar video..</p>
<p>The video below focuses on the physics improvements, which causes the more significant performance gains. It shows some test cases simulating 4 ASTROS batteries (composed of ~14 military vehicles each). Initially, the video demonstrates the impact of our physics <em>Layer</em> used to deal with the problem of numerical accuracy in large-scale scenarios. Then, some test cases moving the convoys. It is possible to notice that the movement of some objects already made the application almost unusable. After the improvements, it is possible to see a significant evolution in the performance aspect. On the left are shown before and on the right after the refactorings.</p>
<video controls>
    <source src="\performance_tests\performance-comparisons.mp4" type="video/mp4" class="video">
</video>
<p><br /></p>
<blockquote>
<p>It is essential to highlight that the computer where the tests were done has low computational power compared to the client.</p>
</blockquote>

        

        <br />
        <br />
        <br />
        
<style>
    text_capitalize {
        text-transform: capitalize;
    }
</style>


<ul class="tags">
    
    <li><text_capitalize><a class="tag" href="/tags/optimization">Optimization</a></text_capitalize></li>
    
    <li><text_capitalize><a class="tag" href="/tags/performance">Performance</a></text_capitalize></li>
    
    <li><text_capitalize><a class="tag" href="/tags/memory-management">Memory Management</a></text_capitalize></li>
    
    <li><text_capitalize><a class="tag" href="/tags/data-structure">Data Structure</a></text_capitalize></li>
    
</ul>

    </div>



</section>


    <span style="color: #999999; font-size: 60%;">Nifty <a href="https://codepen.io/wbeeftink/pen/dIaDH">tech tag lists</a> from <a class="pen-owner-link" href="https://codepen.io/wbeeftink">Wouter Beeftink</a> </span>
    
  </div>
  
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

  
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js" integrity="sha512-0QbL0ph8Tc8g5bLhfVzSqxe9GERORsKhIn1IrpxDAgUsbBGz/V7iSav2zzW325XGd1OMLdL4UiqRJj702IeqnQ==" crossorigin="anonymous"></script>
  
  <script async src="/js/resume.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=XX-123446-01"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'XX-123446-01');
  </script>
  

  
</body>
</html>
